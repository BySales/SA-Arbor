/* --- ESTILOS GERAIS --- */
html, body {
    height: 100%;
}

body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    background-color: #f4f7f6;
}

/* Esconde a rolagem nas páginas de autenticação */
.login-page, .cadastro-page, .recuperar-senha-page {
    overflow: hidden;
}


/* --- ESTRUTURA DAS PÁGINAS DE LOGIN/CADASTRO --- */
.login-container {
    display: flex;
    min-height: 100vh;
    width: 100%;
}

.info-column {
    flex: 1;
    color: #1E5943;
    padding: 60px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

/* Gradiente da página de Login */
.login-page .info-column {
    background: linear-gradient(135deg, #BFF0C9 0%, #6ACF7F 100%);
}

/* Gradiente da página de Cadastro */
.cadastro-page .info-column {
    background: linear-gradient(135deg, #1E5943 0%, #154231 100%);
    color: #f0f0f0;
}

.cadastro-page .info-content h1,
.cadastro-page .info-content p,
.cadastro-page .info-footer span {
    color: #f0f0f0;
}

/* Gradiente da página de Recuperar Senha */
.recuperar-senha-page .info-column {
    background: linear-gradient(135deg, #A4A6F1 0%, #6D6BE1 100%);
    color: #fff;
}

.recuperar-senha-page .info-content h1,
.recuperar-senha-page .info-content p,
.recuperar-senha-page .info-footer span {
    color: #fff;
}


.info-content {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.info-content .logo {
    position: absolute;
    top: 60px;
    left: 60px;
}

.info-content h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    color: #1E5943;
}

.info-content p {
    font-size: 1rem;
    font-weight: 400;
    color: #1E5943;
    max-width: 400px;
}

.info-footer {
    display: flex;
    justify-content: space-between;
    font-weight: 500;
    font-size: 0.9rem;
    color: #1E5943;
}

.form-column {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    background-color: #F4F7F6;
}

/* --- CARD DE LOGIN/CADASTRO --- */
.login-card {
    background-color: #fff;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    width: 100%;
    max-width: 450px;
}

.login-header h2 {
    font-weight: 600;
    font-size: 1.8rem;
    color: #333;
}

.login-header p {
    color: #888;
    margin-bottom: 30px;
}

/* --- FORMULÁRIO --- */
.login-form .form-group {
    margin-bottom: 20px;
}

.login-form label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #555;
    font-size: 0.9rem;
}

.login-form p {
    margin: 0;
}
.login-form input[type="text"],
.login-form input[type="password"],
.login-form input[type="email"] {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 8px;
    transition: border-color 0.3s;
}

.login-form input[type="text"]:focus,
.login-form input[type="password"]:focus,
.login-form input[type="email"]:focus {
    outline: none;
    border-color: #6ACF7F;
}

.forgot-password {
    display: block;
    text-align: right;
    font-size: 0.85rem;
    color: #1E5943;
    text-decoration: none;
    margin-top: -10px;
    margin-bottom: 20px;
}

.divider {
    text-align: center;
    color: #aaa;
    margin: 25px 0;
    position: relative;
}
.divider span {
    background-color: #fff;
    padding: 0 10px;
    position: relative;
    z-index: 1;
}
.divider::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 1px;
    background-color: #ddd;
    z-index: 0;
}

.social-login {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
}

.social-btn {
    flex: 1;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 8px;
    text-align: center;
    text-decoration: none;
    color: #333;
    font-weight: 500;
    transition: background-color 0.3s, border-color 0.3s;
    font-size: 0.9rem;
}
.social-btn:hover {
    background-color: #f0f0f0;
    border-color: #c0c0c0;
}

.btn-login {
    width: 100%;
    padding: 15px;
    border: none;
    border-radius: 8px;
    background-color: #1E5943;
    color: #fff;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s;
}
.btn-login:hover {
    background-color: #154231;
}

.signup-link {
    text-align: center;
    margin-top: 25px;
    color: #888;
}

.signup-link a {
    color: #1E5943;
    font-weight: 600;
    text-decoration: none;
}

.password-input-wrapper {
    position: relative;
}

.password-input-wrapper input {
    padding-right: 40px;
}

#togglePassword, #togglePassword2 {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    color: #999;
    font-size: 1.15rem;
}

.recuperar-senha-page .login-header {
    text-align: center;
}
.email-info {
    font-size: 0.9rem;
    color: #555;
}
.email-masked {
    font-size: 1rem;
    font-weight: 500;
    color: #333;
    margin-bottom: 5px;
}
.no-access-link {
    font-size: 0.8rem;
    color: #666;
}
.code-inputs {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
}
.code-inputs input {
    width: 45px;
    height: 50px;
    text-align: center;
    font-size: 1.5rem;
    border: 1px solid #ddd;
    border-radius: 8px;
}
.code-inputs span {
    font-size: 1.5rem;
    color: #ddd;
}
.action-buttons {
    display: flex;
    gap: 15px;
    margin-top: 30px;
}
.btn-primary-custom, .btn-secondary-custom {
    flex: 1;
    padding: 14px;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    border: 1px solid;
    transition: all 0.3s;
}
.btn-primary-custom {
    background-color: #6D6BE1;
    border-color: #6D6BE1;
    color: #fff;
}
.btn-primary-custom:hover {
    background-color: #5857c3;
    border-color: #5857c3;
}
.btn-secondary-custom {
    background-color: #fff;
    border-color: #ddd;
    color: #555;
}
.btn-secondary-custom:hover {
    background-color: #f8f8f8;
    border-color: #ccc;
}
.resend-code-link {
    display: block;
    text-align: center;
    margin-top: 25px;
    font-size: 0.9rem;
    font-weight: 500;
    color: #1E5943;
    text-decoration: none;
}

/* --- ESTRUTURA PRINCIPAL DO APP (LAYOUT FIXO) --- */
.app-container {
    display: flex;
}

/* --- BARRA LATERAL (SIDEBAR) (LAYOUT FIXO) --- */
.sidebar {
    width: 270px; /* Largura fixa da sidebar */
    background-color: #fff;
    height: 100vh; /* Ocupa a altura inteira da tela */
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    border-right: 1px solid #e0e0e0;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    flex-shrink: 0; /* Impede a sidebar de ser "esmagada" */
    position: sticky; /* Deixa ela fixa no lugar enquanto rola a página */
    top: 0;
}

.sidebar-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 30px;
}

.sidebar-logo {
    display: flex;
    align-items: center;
    gap: 10px;
}
.sidebar-logo span {
    font-size: 1.5rem;
    font-weight: 600;
    color: #1E5943;
}
.sidebar-logo img {
    width: 32px;
}

.sidebar-menu {
    list-style: none;
    padding: 0;
    margin: 0;
}
.sidebar-menu .menu-header {
    font-size: 0.8rem;
    font-weight: 500;
    color: #999;
    text-transform: uppercase;
    margin-top: 20px;
    margin-bottom: 10px;
}

.sidebar-menu li a {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 12px 15px;
    text-decoration: none;
    color: #555;
    font-weight: 500;
    border-radius: 8px;
    transition: all 0.3s;
}
.sidebar-menu li a:hover {
    background-color: #f0f0f0;
}
.sidebar-menu li a.active {
    background-color: #1E5943;
    color: #fff;
}
.sidebar-menu li a i {
    font-size: 1.2rem;
}

/* --- CONTEÚDO PRINCIPAL (LAYOUT FIXO) --- */
.main-content {
    flex-grow: 1; /* Faz o conteúdo ocupar todo o resto do espaço */
    padding: 20px;
}

.main-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 30px;
}

.header-greeting h4 {
    margin: 0;
    font-weight: 600;
}

.header-search {
    position: relative;
    width: 300px;
}
.header-search input {
    width: 100%;
    padding: 8px 15px 8px 40px;
    border: 1px solid #e0e0e0;
    border-radius: 20px;
}
.header-search i {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: #999;
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 20px;
}
.header-actions > a {
    font-size: 1.3rem;
    color: #555;
}

.header-profile {
    display: flex;
    align-items: center;
    gap: 10px;
}
.header-profile img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
}
.profile-info {
    display: flex;
    flex-direction: column;
    line-height: 1.2;
}
.profile-info strong {
    font-weight: 600;
}
.profile-info small {
    color: #888;
}

/* ESTILOS DOS CARDS (para reuso) */
.card-denuncia {
    border-left: 5px solid #FFADAD;
}
.card-sugestao {
    border-left: 5px solid #A0C4A4;
}

.descricao-container {
    position: relative;
    max-height: 4.5em;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
}
.descricao-container.expandida {
    max-height: 1000px;
    transition: max-height 0.5s ease-in;
}
.descricao-container::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 0;
    width: 100%;
    height: 1.5em;
    background: linear-gradient(to bottom, transparent, white);
    pointer-events: none;
}
.descricao-container.expandida::after {
    display: none;
}
.ler-mais-btn {
    color: #6c757d;
    font-weight: bold;
    text-decoration: none;
    cursor: pointer;
}
.ler-mais-btn:hover {
    color: #212529;
    text-decoration: underline;
}

/* --- ESTILOS DOS CARDS DO DASHBOARD (BASEADO NO FIGMA) --- */
.card {
    border: none; /* Remove a borda padrão */
    border-radius: 12px; /* Bordas mais arredondadas */
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.08); /* Sombra mais suave */
}

.card-body {
    padding: 15px; /* Um pouco mais de padding interno */
    display: flex; /* Para centralizar os itens com flexbox */
    flex-direction: column; /* Conteúdo em coluna */
    align-items: flex-start; /* Alinha o conteúdo à esquerda */
    text-align: left; /* Garante que o texto comece à esquerda */
}

.card-icon {
    font-size: 1.3rem; /* Ícone maior */
    margin-bottom: 12px; /* Espaço abaixo do ícone */
    width: 40px; /* Largura fixa para o círculo do ícone */
    height: 40px; /* Altura fixa para o círculo do ícone */
    border-radius: 30%; /* Faz o círculo */
    display: flex;
    justify-content: center;
    align-items: center;
}

.card-icon.primary {
    background-color: #E6F3EB; /* Verde claro */
    color: #1E5943; /* Verde escuro */
}

.card-icon.danger {
    background-color: #F8EAEA; /* Vermelho claro */
    color: #DC3545; /* Vermelho escuro */
}

.card-icon.info {
    background-color: #EAF4F9; /* Azul claro */
    color: #17A2B8; /* Azul escuro */
}

.card-icon.success {
    background-color: #EBF8EE; /* Verde claro mais suave */
    color: #28A745; /* Verde padrão */
}

.card-title-dashboard {
    font-family: 'Poppins', sans-serif;
    font-size: 0.9rem; /* Título menor, como no Figma */
    font-weight: 500; /* Medium weight */
    color: #6c757d; /* Cor cinza */
    margin-bottom: 5px; /* Espaço abaixo do título */
    text-transform: none; /* Sem uppercase */
}

.card-number {
    font-family: 'Poppins', sans-serif;
    font-size: 1.8rem; /* Número maior e em destaque */
    font-weight: 600; /* Semi-bold */
    color: #343a40; /* Cor mais escura para destaque */
    line-height: 1; /* Garante que o número não quebre linha */
}

.card-body .row.no-gutters {
    flex-direction: column;
    align-items: flex-start;
}

.card-body .row.no-gutters .col.mr-2 {
    margin-right: 0 !important; /* Remove margem extra */
}

.card-body .row.no-gutters .col-auto {
    display: none; /* Esconde o ícone antigo do canto */
}

.card-body .text-xs,
.card-body .h5 {
    font-weight: normal !important;
    text-transform: none !important;
    margin-bottom: 0 !important;
}

/* --- ESTILO DA TABELA DE SOLICITAÇÕES (HOME) --- */

.stylish-table {
    border-collapse: separate;
    border-spacing: 0 10px; /* Espaçamento vertical entre as linhas */
}

.stylish-table thead th {
    border: none;
    color: #6c757d;
    font-size: 0.85rem;
    text-transform: uppercase;
    font-weight: 600;
}

.stylish-table tbody tr {
    background-color: #fff;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
}

.stylish-table tbody tr:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.stylish-table tbody td {
    padding: 1rem;
    vertical-align: middle;
    border: none;
}

.stylish-table tbody td:first-child {
    border-top-left-radius: 8px;
    border-bottom-left-radius: 8px;
}
.stylish-table tbody td:last-child {
    border-top-right-radius: 8px;
    border-bottom-right-radius: 8px;
}

.badge.bg-danger-soft {
    background-color: #F8EAEA !important;
    color: #DC3545 !important;
}
.badge.bg-warning-soft {
    background-color: #FFF8E1 !important;
    color: #FFC107 !important;
}
.badge.bg-success-soft {
    background-color: #EBF8EE !important;
    color: #28A745 !important;
}
.badge.bg-dark-soft {
    background-color: #E9ECEF !important;
    color: #343A40 !important;
}

.map-page-container {
    padding: 0px; /* Remove padding extra do container para o mapa ficar colado nas bordas do card */
}

/* Card que envolve o mapa */
.map-card {
    border: none;
    border-radius: 12px;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.08);
    margin-bottom: 20px; /* Margem abaixo do card */
    overflow: hidden; /* Garante que as bordas arredondadas funcionem */
}

.map-header-card {
    padding: 15px 20px;
    background-color: #fff;
    border-bottom: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.map-header-card h6 {
    margin: 0;
    font-weight: 600;
    color: #1E5943;
}

/* Container do mapa para definir o tamanho exato */
#map-container {
    height: 60vh; /* ALTURA FIXA E DIMINUIDA PARA O MAPA */
    width: 100%;
    border-bottom-left-radius: 12px; /* Arredonda os cantos inferiores */
    border-bottom-right-radius: 12px; /* Arredonda os cantos inferiores */
}

/* O mapa em si deve ocupar 100% do seu container */
#map {
    height: 100%;
    width: 100%;
    z-index: 1; /* Garante que o mapa esteja sobre outros elementos */
}
.main-content {
    overflow-y: hidden; /* Evita a barra de rolagem vertical na página */
}

/* --- AJUSTE DE ESPAÇAMENTO NA PÁGINA DO MAPA --- */
/* Esta regra é para a div que contém "Mapa Interativo".
  Vamos reduzir a margem inferior dela.
*/
.page-content .header-greeting {
    margin-bottom: 1rem; /* Diminui o espaçamento para 16px */
}

/* E esta regra diminui a margem padrão do título H2
  para deixar tudo mais compacto.
*/
.page-content .header-greeting h2 {
    margin-bottom: 0.25rem; /* Diminui o espaçamento abaixo do título */
}

/* --- ESTILO DOS CONTROLES DO MAPA (VERSÃO CORRIGIDA) --- */

/* 1. Move a barra de ferramentas para o topo e centro */
.leaflet-top.leaflet-left {
    top: 15px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1001;
}

/* 2. Deixa as barras na horizontal */
.leaflet-draw-section .leaflet-draw-toolbar,
.leaflet-draw-actions {
    display: flex;
    gap: 8px; /* Espaço entre os botões */
    align-items: center;
}
.leaflet-draw-actions {
    background: none !important;
    box-shadow: none !important;
}
.leaflet-bar {
    box-shadow: none !important; /* Remove sombra extra do container */
}


/* 3. Estilo geral dos botões (agora redondos e focados no ícone) */
.leaflet-draw-toolbar a,
.leaflet-draw-actions a {
    background-image: none !important; /* Esconde o ícone original */
    background-color: #fff !important;
    border: 1px solid #ddd !important;
    border-radius: 50% !important; /* Deixa os botões perfeitamente redondos */
    box-shadow: 0 2px 5px rgba(0,0,0,0.1) !important;
    width: 40px !important;  /* Largura fixa */
    height: 40px !important; /* Altura fixa */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important; /* Centraliza o ícone */
    padding: 0 !important;
    transition: all 0.2s ease;
}

.leaflet-draw-toolbar a:hover,
.leaflet-draw-actions a:hover {
    background-color: #f5f5f5 !important;
    border-color: #ccc !important;
}

/* 4. SUBSTITUI OS ÍCONES USANDO O BOOTSTRAP ICONS */
.leaflet-draw-toolbar a::before,
.leaflet-draw-actions a::before {
    font-family: "bootstrap-icons" !important;
    font-size: 1.1rem; /* Tamanho do ícone */
    line-height: 1;
    /* Propriedades para garantir a renderização correta da fonte de ícones */
    font-style: normal;
    font-weight: normal !important;
    font-variant: normal;
    text-transform: none;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Define qual ícone vai em qual botão */
.leaflet-draw-draw-polygon a::before { content: "\F51B"; } /* Ícone de pentágono */
.leaflet-draw-draw-rectangle a::before { content: "\F5B1"; } /* Ícone de retângulo com cantos */
.leaflet-draw-draw-marker a::before { content: "\F3E8"; } /* Ícone de pino de mapa */
.leaflet-edit-edit a::before { content: "\F4CA"; } /* Ícone de lápis */
.leaflet-edit-remove a::before { content: "\F5DE"; } /* Ícone de lixeira */
.leaflet-draw-actions li:first-child a::before { content: "\F28A"; } /* Ícone de check */
.leaflet-draw-actions li:last-child a::before { content: "\F62A"; } /* Ícone de X */

/* Destaque para o botão quando uma ferramenta está ativa */
.leaflet-draw-toolbar a.leaflet-draw-enabled {
    background-color: #E6F3EB !important;
    color: #1E5943 !important;
    border-color: #1E5943 !important;
}